  <div class="container">
    <h3 class="center">Az Ön tantárgyai</h3>
    <h6 class="center">Az Ön összesített tanulmányi átlaga: {{ getTotalAverage() == 0 ? 'Számítás...' : getTotalAverage() }}</h6>
    <br>
    <!-- Jelezzük az adatok betöltését -->
    <div *ngIf="!subjects" class="center">
      <div class="preloader-wrapper big active">
        <div class="spinner-layer spinner-blue-only">
          <div class="circle-clipper left">
            <div class="circle"></div>
          </div><div class="gap-patch">
            <div class="circle"></div>
          </div><div class="circle-clipper right">
            <div class="circle"></div>
          </div>
        </div>
      </div>
    </div>
    <mz-collapsible *ngIf="subjects">
      <mz-collapsible-item *ngFor="let subject of subjects; let i = index">
        <mz-collapsible-item-header>
          <i class="material-icons">{{ subject.icon }}</i>
          <span>{{ subject.name }}</span>
          <div class="right"><mz-badge [value]="subject.average" [caption]="'átlag'" [badgeClass]="'blue'" [new]="true"></mz-badge></div>
        </mz-collapsible-item-header>
        <mz-collapsible-item-body>
          <table class="striped centered">
            <thead>
              <tr>
                <th>Jegy</th>
                <th>Oktató</th>
                <th>Idő</th>
                <th>Leírás</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let mark of subject.marks; let j = index">
                <td>{{ mark.mark }} </td>
                <td>{{ getUserName(mark.teacherUserId) }}</td>
                <td>{{ transformTimestamp(mark.timestamp) }}</td>
                <td>{{ mark.description }}</td>
              </tr>
            </tbody>
          </table>
        </mz-collapsible-item-body>
      </mz-collapsible-item>
    </mz-collapsible>
  </div>